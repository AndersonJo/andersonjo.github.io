---
layout: post
title: "AI LLM Tools"
date: 2024-12-13 01:00:00
categories: "nlp"
asset_path: /assets/images/
tags: ['ollama', 'github-models', 'gh']
---

# Hugging Face CLI

### Huggine Face CLI

```bash
# 다운로드 / 현재 huggingface-cli download 는 deprecated -> hf 사용
# 이거 자꾸 에러남. 사용하지 말고 hf 사용
MODEL=meta-llama/Llama-3.2-3B-Instruct
huggingface-cli download "$MODEL" --resume-download
```

```bash
huggingface-cli login
```


### HF CLI

```bash
# 다운로드 (huggingface-cli download 는 deprecated -> hf 사용)
model=meta-llama/Llama-3.2-3B-Instruct
hf download $MODEL --max-workers 2
```


# Github Models with gh (CLI Tool)

먼저 gh 를 설치합니다.

**최초 설치시**
```bash
(type -p wget >/dev/null || (sudo apt update && sudo apt install wget -y)) \
	&& sudo mkdir -p -m 755 /etc/apt/keyrings \
	&& out=$(mktemp) && wget -nv -O$out https://cli.github.com/packages/githubcli-archive-keyring.gpg \
	&& cat $out | sudo tee /etc/apt/keyrings/githubcli-archive-keyring.gpg > /dev/null \
	&& sudo chmod go+r /etc/apt/keyrings/githubcli-archive-keyring.gpg \
	&& sudo mkdir -p -m 755 /etc/apt/sources.list.d \
	&& echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null \
	&& sudo apt update \
	&& sudo apt install gh -y
```

**업그레이드시**
```bash
sudo apt update
sudo apt install gh
```


gh auth login 으로 로그인후 설치합니다. 

```bash
# 로그인
gh auth login

# Github models 설치
gh extension install https://github.com/github/gh-models

# 업그레이드
gh extension upgrade github/gh-models
```

Quick References

```bash
# 모델 리스트업
gh models list

# 테스트
gh models run openai/gpt-4.1 "하이. open source LLM 추천좀 해줄래?"

# Interactive mode (모델 선택후 대화 인터렉티브 대화 가능)
gh models run

# 이런것도 됨 - README.md 의 정보가 들어감
cat README.md | gh models run openai/gpt-4o-mini "summarize this text"

# Evaluation
# 예제 https://github.com/github/gh-models/blob/main/examples/evals_action.yml
# docs: https://docs.github.com/ko/github-models/use-github-models/storing-prompts-in-github-repositories
gh models eval my_prompt.prompt.yml
```



# Llama.cpp

```bash
sudo apt update
sudo apt install git build-essential cmake libcurl4-openssl-dev
sudo apt install nvidia-cuda-toolkit

# 코드 다운로드
git clone https://github.com/ggerganov/llama.cpp.git
cd llama.cpp

# 빌드 (1. 빌드 설정, 2. 컴파일 수행)
cmake -B build
cmake --build build --config Release

# Python 바인딩 설치
# GPU 사용시
CMAKE_ARGS="-DGGML_CUDA=ON" FORCE_CMAKE=1 pip install llama-cpp-python --force-reinstall --upgrade --no-cache-dir
```

